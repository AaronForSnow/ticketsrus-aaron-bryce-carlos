@using TicketLibrary.Services
@using Microsoft.EntityFrameworkCore
@using TicketLibrary.Data
@inject ITicketService ticketService
<h1>Tickets</h1>

<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Event Name</th>
      <th scope="col">Ticket ID</th>
      <th scope="col">Checked In</th>
      <th scope="col">Ticket Email</th>
    </tr>
  </thead>
   <tbody>
       @foreach(var t in tickets)
       {
        <tr>
          <th scope="row">1</th>
          <td>@t.Event?.EventName</td>
          <td>@t.Id</td>
          <td>@t.IsScanned</td>
          <td>@t.UserEmail</td>
        </tr>
            
        }
    </tbody>
</table>



@code{
    public List<Ticket> tickets = new();
    protected override async Task OnInitializedAsync(){
        tickets = await ticketService.GetAllTicketsAsync();
    }
}